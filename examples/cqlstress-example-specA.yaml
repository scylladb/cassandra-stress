#
# Test-only YAML profile for cassandra-stress with explicit specname
# Based on examples/cqlstress-example.yaml
#

specname: alpha_workload

# Keyspace info
keyspace: stresscql

# The CQL for creating a keyspace (optional if it already exists)
keyspace_definition: |
  CREATE KEYSPACE stresscql WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1};

# Table info
table: typestest

# The CQL for creating a table you wish to stress (optional if it already exists)
table_definition: |
  CREATE TABLE typestest (
        name text,
        choice boolean,
        date timestamp,
        address inet,
        dbl double,
        lval bigint,
        ival int,
        uid timeuuid,
        value blob,
        PRIMARY KEY((name,choice), date, address, dbl, lval, ival, uid)
  ) 
    WITH compaction = { 'class':'LeveledCompactionStrategy' };

# Optional meta information on the generated columns in the above table
columnspec:
  - name: name
    size: uniform(1..10)
    population: uniform(1..10)
  - name: date
    cluster: uniform(20..40)
  - name: lval
    population: gaussian(1..1000)
    cluster: uniform(1..4)

insert:
  partitions: uniform(1..50)
  batchtype: LOGGED
  select: uniform(1..10)/10

queries:
   simple1:
      cql: select * from typestest where name = ? and choice = ? LIMIT 100
      fields: samerow
   range1:
      cql: select * from typestest where name = ? and choice = ? and date >= ? LIMIT 100
      fields: multirow

token_range_queries:
  all_columns_tr_query:
    columns: '*'
    page_size: 5000
